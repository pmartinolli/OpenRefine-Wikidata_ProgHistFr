[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Enrichir ses données avec le processus de réconciliation d’OpenRefine",
    "section": "",
    "text": "OpenRefine est connu pour améliorer la qualité des données existantes, principalement en « nettoyant » en lot selon des critères établis et reproductibles. Depuis 2017, OpenRefine peut aussi être utilisé pour lancer un processus appelé « réconciliation » ou « alignement » des données qui consiste à apparier ses données à d’autres. Ce processus permet principalement l’enrichissement des données, mais aussi la normalisation ou la correction d’erreurs, l’évaluation et l’exploration des données.\nNous allons voir dans ce tutoriel comment utiliser OpenRefine sur des données locales pour les enrichir avec des données provenant de Wikidata. Ensuite, nous situerons cette leçon dans un cadre plus large afin d’améliorer ce processus, d’explorer d’autres services de réconciliation et d’adopter des méthodes similaires pertinentes pour la recherche en histoire. Enfin, nous terminerons par une réflexion sur l’apport de ces approches numériques."
  },
  {
    "objectID": "index.html#installation",
    "href": "index.html#installation",
    "title": "Enrichir ses données avec le processus de réconciliation d’OpenRefine",
    "section": "1.1 Installation",
    "text": "1.1 Installation\nInstaller OpenRefine sur son ordinateur (Windows, Mac OS ou Linux). Comme c’est un programme qui s’execute dans le navigateur, il n’est pas nécessaire d’avoir des droits d’administrateur pour l’installer."
  },
  {
    "objectID": "index.html#choisir-un-jeu-de-données",
    "href": "index.html#choisir-un-jeu-de-données",
    "title": "Enrichir ses données avec le processus de réconciliation d’OpenRefine",
    "section": "1.2 Choisir un jeu de données",
    "text": "1.2 Choisir un jeu de données\nNous allons utiliser un jeu de données sous la forme d’une liste de douze ouvrages d’alchimie en deux colonnes : Titre (pour le titre de l’ouvrage) et Date (pour date de publication, certaines dates sont manquantes). Ce jeu de données (télégeableable) est sous la forme d’un fichier CSV encodé en UTF-8 (voir Figure 1). C’est un format ouvert idéal pour traiter et archiver des données tabulées. Veuillez noter que les résultats présentés ci-dessous peuvent se présenter différemment si vous refaites les mêmes actions, car les données de Wikidata auront changé.\n\n\n\nFigure 1. - Apercu du fichier CSV\n\n\nL’objectif est d’enrichir ces données en important des données supplémentaires provenant de Wikidata comme le lieu et la date de publication, le titre normalisé de l’ouvrage, l’auteur et la langue utilisée."
  },
  {
    "objectID": "index.html#lancer-openrefine-et-importer-les-données",
    "href": "index.html#lancer-openrefine-et-importer-les-données",
    "title": "Enrichir ses données avec le processus de réconciliation d’OpenRefine",
    "section": "1.3 Lancer OpenRefine et importer les données",
    "text": "1.3 Lancer OpenRefine et importer les données\nCliquer sur Languages et changer pour Français. Puis cliquer sur Créer un projet &gt; Cet ordinateur &gt; Sélect. fichiers &gt; Sélectionner le fichier CSV &gt; Suivant &gt; Configurer les options d’analyse syntaxique : Les colonnes sont séparées par : une virgule &gt; Cliquer sur Créer un projet.\nVérifier que tout est bien importé ou changer les paramètres de la page Configurer les options d’analyse syntaxique.\nOn peut noter sur cette page, la possibilité d’importer les données depuis de nombreux formats : XLS et XLSX (Microsoft Excel), JSON (et JSON-LD), fichiers texte à base de lignes, fichiers CSV (ou TSV ou semblables comme notre exemple), fichiers textes à largeur de champ fixe, PC-Axis, MARC, RDF (/N3, /N-Triples, /Turtle, /XML), Wikitext, ODS (fichier de tableur de LibreOffice Calc).\nLe processus de réconciliation consiste habituellement en deux étapes :\n\nLa réconciliation proprement dite, qui permet d’apparier une colonne de données avec des identifiants d’une source de données externes.\nPuis l’enrichissement des données qui consiste à importer de nouvelles données de la source externe grâce à la colonne de données réconciliées."
  },
  {
    "objectID": "index.html#réconcilier-une-colonne",
    "href": "index.html#réconcilier-une-colonne",
    "title": "Enrichir ses données avec le processus de réconciliation d’OpenRefine",
    "section": "1.4 Réconcilier une colonne",
    "text": "1.4 Réconcilier une colonne\nTout d’abord nous allons créer un doublon de la colonne Titre. Cette étape est importante puisque le résultat d’une réconciliation réussie remplace souvent le contenu de la cellule originale par le texte du libellé (label dans Wikidata) de la valeur réconciliée. Or, il est souhaitable de pouvoir comparer la colonne de titre originale avec la colonne de titre réconcilié. En science, il est toujours une bonne pratique de ne pas modifier les données originales afin de garantir leur intégrité, leur traçabilité et leur reproductibilité. Toute modification pourrait entraîner des erreurs, des biais ou une perte d’informations importantes, compromettant ainsi la fiabilité des résultats obtenus. Conserver les données brutes permet également aux chercheurs de vérifier et de reproduire les analyses, de comparer différentes approches méthodologiques et de répondre à d’éventuelles critiques en s’appuyant sur des sources inchangées. C’est pourquoi il est recommandé d’effectuer toute transformation ou correction sur une copie des données originales plutôt que sur celles-ci directement.\nCliquer sur les options de la colonne Titre &gt; Editer la colonne &gt; Ajouter une colonne en fonction de cette colonne… &gt; Donner le nom Titre_RECON &gt; Ne rien modifier d’autre (c’est à dire que le contenu sera exactement l’expression value).\nRéconcilier la colonne Titre_RECON en cliquant sur les options de cette colonne &gt; Réconcilier &gt; Démarrer la réconciliation (voir Figure 2)\n\n\n\nFigure 2. - Démarrer la réconciliation\n\n\nChoisir un service… : Wikidata reconci.link &gt; Suivant.\nDans la case de gauche (voir Figure 3), sélectionner le type de données le plus proche du contenu de la colonne. Dans notre cas, nous allons sélectionner literary work (Q7725634) ou bien choisir Réconcilier sans type particulier.\nPour le moment, ignorer les autres options &gt; Démarrer la réconciliation…\n\n\n\nFigure 3. - Options de réconciliation.\n\n\nAttendre que le processus se termine. On peut voir la progression dans une zone jaune en haut du tableau principal.\nUne fois terminé, observer plusieurs choses :\n\nSous le titre de la colonne, une ligne verte indique le taux de réconciliation. Une ligne complètement verte indique ainsi que toutes les données ont été réconciliées. Il est aussi possible d’afficher et de sélectionner cette information dans les facettes du menu de gauche.\nQue plusieurs éléments de la colonne Titre_RECON sont désormais bleutés et cliquables. Cela veut dire qu’ils ont été appariés avec un élément Wikidata qui devrait leur correspondre (voir Figure 4).\n\n\n\n\nFigure 4. - Exemple de donnée réconciliée\n\n\n\nQue des éléments possèdent plusieurs choix. L’algorithme de réconciliation n’a pu décider quelle valeur choisir (voir Figure 5).\n\n\n\n\nFigure 5. - Exemple de donnée non-réconciliée avec un choix à effectuer\n\n\n\nChaque choix est précédé de deux cases à cocher. La première case avec une coche unique permet de n’apparier que cette cellule. La seconde case à cocher avec deux coches permet d’apparier toutes les cellules identiques de la colonne avec la valeur choisie. Cela est très utile dans le cas d’un grand jeu de données avec des valeurs semblables qui se répètent.\nCréer un nouvel élément (pour cette cellule ; ou pour cette cellule et toutes les cellules identiques) : ignorer pour le moment.\nChercher une correspondance : permet de relancer une recherche dans Wikidata avec un autre contenu. Souvent ce qui fonctionne bien, c’est une valeur de cellule plus restreinte (un titre ou un nom plus court par exemple).\n\nPour aller plus loin, se rendre à la section Comment améliorer la réconciliation ?\nEn survolant les valeurs proposées en choix, il est possible de visualiser un extrait de l’élément Wikidata. En cliquant sur le lien, cela ouvre un nouveau onglet vers cet élément Wikidata. Il est possible de choisir une valeur pour chaque cellulle non résolue. À la fin de chaque choix pour chaque cellule, il y a un chiffre gris entre parenthèse. Ce chiffre est le score estimé de correspondance par OpenRefine (100 est le meilleur score).\nS’il n’y a pas de choix proposé ou si les choix proposés ne sont pas pertinents, alors cliquer sur Choisir une nouvelle correspondance. Il est alors possible de saisir une valeur plus courte ou mieux rédigée pour tenter de repérer l’élément correspondant (voir Figure 6).\n\n\n\nFigure 6. - Recherche d’une nouvelle correspondance."
  },
  {
    "objectID": "index.html#enrichir-son-jeu-de-données",
    "href": "index.html#enrichir-son-jeu-de-données",
    "title": "Enrichir ses données avec le processus de réconciliation d’OpenRefine",
    "section": "1.5 Enrichir son jeu de données",
    "text": "1.5 Enrichir son jeu de données\nToutes les cellules de données qui ont été réconciliées peuvent maintenant être enrichies par des données externes si celles-ci sont indexées dans les éléments correspondants de Wikidata.\nCliquer sur les options de la colonne Titre_RECON &gt; Éditer la colonne &gt; Ajouter des colonnes à partir de valeurs réconciliées &gt; Ajouter une propriété : Sélectionner Propriétés suggérées : Qid &gt; OK. Il est aussi possible de cliquer sur les options de la colonne Titre_RECON &gt; Réconciliier &gt; Add column with URLs of matched entities… Nom de la colonne : Qid\nUne nouvelle colonne Qid contenant l’identifiant Wikidata est créée (sous la forme d’un identifiant ou sous la forme d’une URL avec l’identifiant, selon la méthode utilisée précédemment).\nRecommencer en ajoutant les propriétés suivantes :\n\nAuthor,\nLanguage of work or name,\nPublication Date,\nPublisher,\nPlace of Publication.\n\nSi ces propriétés ne sont pas listées dans Propriétés suggérées alors les écrire une par une dans la case sous Ajouter une propriété (voir Figure 7).\n\n\n\nFigure 7. Enrichir en ajoutant des propriétés et leurs valeurs\n\n\nIl est aussi possible de refaire la même opération à partir de la colonne Place of Publication pour récupérer les coordonnées géographiques (Coordinate location) dans le cas où on voudrait visualiser les données sur une carte.\nIl est recommandé de faire ces opérations d’enrichissement à la fin de tous vos processus de réconciliation car il n’y a pas de boutons “mise à jour”. Si on veut refaire l’opération dans le futur, par exemple parce que les données Wikidata ont été améliorées entre temps, alors il faut supprimer la colonne et la recréer.\nUne fois le jeu de données enrichi, il est possible d’exporter le fichier au format CSV en sélectionnant Exporter &gt; Valeurs séparées par des virgules. C’est un format recommandé pour sa simplicité et ses attributs FAIR (Facile à trouver, Accessible, Interopérable, Réutilisable). Il est aussi possible de l’exporter au format Archive de projet OpenRefine pour permettre de reprendre le travail plus tard ou pour transférer le travail sur un autre ordinateur. Tous les projets OpenRefine en cours sont sauvegardés au fur et à mesure sans intervention de l’utilisateur et ils sont localisés sur l’ordinateur dans le dossier Utilisateur/AddData/Roaming/OpenRefine (le lien se trouve dans le bas de la page Ouvrir un projet).\nVoici un aperçu du jeu des données enrichies (février 2025, figure 8). Il peut être téléchargé en csv ou au format OpenRefine.\n\n\n\nFigure 8. - Jeu des données enrichies."
  },
  {
    "objectID": "index.html#quelles-sont-les-données-facilement-réconciliables-avec-wikidata",
    "href": "index.html#quelles-sont-les-données-facilement-réconciliables-avec-wikidata",
    "title": "Enrichir ses données avec le processus de réconciliation d’OpenRefine",
    "section": "2.1 Quelles sont les données facilement réconciliables avec Wikidata ?",
    "text": "2.1 Quelles sont les données facilement réconciliables avec Wikidata ?\nEn raison de l’indexation actuelle de Wikidata, il y a des données plus facilement réconciliables que d’autres. En effet, il y a des types de données qui produisent des résultats satisfaisants en regard du temps investit à aller les repérer. Par exemple :\n\nLes noms de personnes\nLes noms d’organisations : institutions, maisons d’édition, etc.\nLes lieux géographiques : villes, pays, lieux célèbres, etc.\nLes titres d’oeuvres : livres, tableaux, films, etc.\nLes identifiants pérennes : DOI, ISBN, ISSN, ORCID, VIAF, etc.\nLes sujets de recherche : sujets-descripteurs, vedettes-matières, mots-clés, etc.\n\nDe plus, il y a aussi des types de données enrichies mieux indexées que d’autres. Une fois les données réconciliées, voici des données importables les mieux indexées dans Wikidata :\n\nPour les personnes : sexe, pays de citoyenneté, profession et identifiants.\nPour les institutions : ville, pays d’origine et identifiants .\nPour les lieux : coordonnées géographiques.\nPour les oeuvres : auteurs, années de publication et langues.\nPour les sujets de recherche : catégories plus génériques.\n\n\n2.1.1 Dans quels cas la réconciliation n’est pas adaptée ?\nDans OpenRefine, lorsqu’une colonne de données peut être normalisée avec une liste de vocabulaire contrôlé de moins d’une vingtaine d’éléments, alors il est plus simple d’utiliser des facettes pour traiter les données. La réconciliation est plutôt adaptée pour tenter d’apparier ses données avec un grand ensemble de candidats potentiels.\n\n\n2.1.2 Est-il possible de réconcilier avec d’autres sources de données ?\nDans cette leçon, OpenRefine a été testé avec Wikidata en raison de la grande diversité des types de données que l’on y trouve. En 2025, on peut dire que les données les plus notables sont souvent présentes dans Wikidata et qu’elles sont plus ou moins bien indexées.\nCependant, il est possible de connecter OpenRefine à d’autres services de réconciliation plus spécifiques. Voici quelques exemples :\n\nORCID : pour récupérer l’identifiant de chercheurs.\nVIAF : pour réconcilier avec un grand catalogue de documents, d’auteurs ou de maisons d’édition.\n\nListe des services actifs actuellement. Parmi ces services, voici une sélection intéressant plus particulièrement les historien.nes :\n\nPleiades Geocollider : pour repérer des anciens lieux géographiques (sites, villes, etc.).\nPeriodO : pour repérer des périodes historiques ou archéologiques.\nKerameikos : pour repérer des informations sur l’amphorologie et les céramiques anciennes.\nGODOT – Graph of Dated Objects and Texts : pour repérer des dates selon différents calendriers de Rome et de la Grèce antique.\nNomisma : pour repérer des informations numismatiques sur les monnaies anciennes.\n\nVoici quelques suggestions de méthodes si une institution ne possède pas de service de réconciliation :\n\nÉcrire à l’institution pour qu’elle mette en place un tel service.\nUtiliser les données de Wikidata comme intermédiaires car de nombreuses métadonnées d’autres sources se trouvent déjà structurées dans Wikidata. Par exemple, les descripteurs de la Library of Congress (LCSH) ne sont plus disponibles directement avec un service de réconciliation. Cependant, une partie des descripteurs LCSH sont indexés dans Wikidata.\nDans OpenRefine, utiliser une colonne d’URL de pages web pour récupérer le contenu de ces pages et traiter leurs contenus pour en extraire les données voulues. Ainsi, si vous avez des URL vers des pages web de catalogues d’institution, il est raisonnablement programmable d’extraire les champs de la page de description d’un élément de ce catalogue en ligne.\nTélécharger les données ou la liste des données d’une institution et faire une réconciliation avec les informations téléchargées et traitées.\n\n\n\n2.1.3 Y a-t-il d’autres méthodes pour réconcilier des données ?\n\n2.1.3.1 Avec des données d’un autre projet OpenRefine\nCette méthode est semblable à la formule RECHERCHEV (VLOOKUP) de Excel. Ce n’est pas tout à fait de la réconciliation car c’est un appariement strict entre deux tables, basés sur une colonne commune contenant une clé. Ce billet de Ruth Tillman explique ce processus de croisement de cellules (cell cross).\nComme ce processus de croisement de cellules est très rigoureux, il a des inconvénients : il est sensible à la casse, aux espaces, aux erreurs de saisie, etc. Pour pouvoir faire la même chose mais bénéficier de l’algorithme de correspondance floue (fuzz matching) de la réconciliation, il faut installer une extension à OpenRefine qui s’appelle reconcile-csv.\n\n\n2.1.3.2 Avec un programme codé spécifiquement\nPar exemple, il est possible de coder en Python (ou autre) un programme qui lance le processus de réconciliation de manière autonome pour repérer quelles sont les meilleurs candidats pour une colonne de valeurs (par exemple avec Reconciler). De plus, il est ensuite possible à partir d’une colonne d’identifiants de créer une ou plusieurs colonnes de données externes importées (par exemple avec le package WikidataIntegrator qui va utiliser la valeur du Qid et les codes des propriétés à importer).\n\n\n\n2.1.4 Faire un plan et documenter chaque décision\nAvant de vous lancer dans un processus de réconciliation, définissez des objectifs et concevez un plan progressif de traitement des données pour atteindre cet objectif. Ensuite, lors du déroulement de ce plan, documenter toutes les décisions prises à chaque étape.\nLe processus de réconciliation peut être très lent si vous l’appliquez sur un grand nombre de données. Pour cette raison, je vous recommande de tester votre plan sur un petit nombre d’enregistrements (entre 10 et 20). Si ce plan est adapté, alors appliquez ce plan à toutes vos données.\n\n\n2.1.5 Ajouter une colonne avec les identifiants\nAvant l’exportation finale des données enrichies, je recommande d’ajouter une nouvelle colonne qui contient l’identifiant unique de chaque réconciliation (Qid dans le cas de Wikidata). C’est particulièrement important si vous faites une exportation du jeu de données enrichies au format CSV. En effet, si vous ne le faites pas, seul le libellé de la cellule sera exporté et non la valeur de la clé d’appariement (de toutes les cases réconciliées bleutées).\nPour cela, avec notre exemple ci-dessus, cliquer sur les options de la colonne Titre_RECON &gt; Réconcilier &gt; Ajouter une colonne d’identifiants d’entités… Donner le titre de la colonne : Titre_QID\n\n\n2.1.6 Comment améliorer la réconciliation ?\nVous remarquerez probablement que la réconciliation est parfois peu satisfaisante. Voici quelques techniques pour réduire les réconciliations manuelles après une réconciliation automatique insatisfaisante.\n\n2.1.6.1 Pour une réconciliation plus stricte\n\nRelancer une nouvelle réconciliation en choisissant un autre type de données recommandé.\nDécocher Correspondance automatique des valeurs candidates pour pouvoir sélectionner tous les choix à faire.\n\nNombre maximal de candidats renvoyés : définir une valeur numérique\n\nOption Utiliser également les détails pertinents des autres colonnes :\n\nApparier des colonnes de vos données initiales avec des colonnes de la source externe.\nPar exemple, dans notre cas on pourrait utiliser Date : publication date (P577).\n\n\n\n\n2.1.6.2 Pour une réconciliation moins stricte (proposant ou résolvant plus de choix)\n\nRelancer une réconciliation en choisissant Réconcilier sans type particulier.\n\nObserver les scores de reconciliation (entre parenthèses après les valeurs proposées, entre 0 et 100) et déterminer le score minimum adapté pour résoudre automatiquement les réconciliations.\nSi ce n’est pas déjà fait, faire afficher la facette Titre_RECON : meilleur score des candidats (en cliquant sur les options de la colonne &gt; Réconcilier &gt; Facettes &gt; Meilleur score des candidats)\nDéplacer l’intervalle vers 80-100.\nCliquer sur les options de la colonne &gt; Réconcilier &gt; Actions &gt; Apparier chaque cellule avec son meilleur candidat. Seule la meilleure des valeurs entre 80 et 100 sera utilisée. Une valeur basse de 20 sera ignorée, même si c’est la meilleure parmi d’autres valeurs (ex : 9, 10, 12 et 15).\n\n\nRelancer une réconciliation en choisissant un autre type de données recommandé.\nTraiter les données de la cellule pour une forme plus courte (ou non abrégée, ou sans acronymes) et relancer une réconciliation. Par exemple :\n\nDe Alchemia (1541) -&gt; De Alchemia\nHist Sci Med-&gt; Histoire des sciences médicales\nAHA -&gt; American Historical Association\n\n\n\n\n\n2.1.7 À quoi correspond Créer un nouvel élément ?\nCela permet de marquer un enregistrement pour créer un élément dans Wikidata depuis OpenRefine. Je n’utilise pas cette option car je préfère créer des nouveaux éléments directement dans Wikidata (manuellement ou avec QuickStatements). Cela garanti une meilleure indexation et plus de contrôle sur le processus de création ou d’enrichissement. En effet, lorsque OpenRefine exporte des données dans Wikidata, les détails des résultats du versement (log) ne sont pas affichés à l’issue du processus. La boîte de dialogue d’OpenRefine signale certaines erreurs, mais celles-ci restent peu compréhensibles. Il est donc difficile d’évaluer le succès d’un versement de données sans regarder son propre historique de contributions directement dans Wikidata.\nNotez que si vous créez ou enrichissez un élément dans Wikidata, ce dernier ne sera pas immédiatement disponible dans OpenRefine pour la réconciliation ou l’importation de données externes. En effet, il faut plusieurs heures avant que le service de réconciliation Wikidata accède aux modifications.\n\n\n2.1.8 Réconcilier pour normaliser les données\nNotons qu’outre l’alignement avec des données externes et l’enrichissement des données initiales, une autre utilité de la réconciliation est de normaliser les données initiales via le service de réconciliation. En effet, comme nous l’avons vu le contenu d’une cellule réconciliée est remplacé par le texte du libellé de la donnée correspondante de la base de données externe.\nComme mentionné précédemment, il est important de conserver la colonne des données initiales non réconciliées pour pouvoir comparer les deux."
  }
]